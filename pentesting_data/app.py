import nmap
import json
from flask import Flask, jsonify
import socket

app = Flask(__name__)

@app.route('/')
def scan():
    return jsonify({"resultado":scan_network('192.168.100.0/24') })
    
def scan_network(network):
    nm = nmap.PortScanner()
    return nm.scan(hosts=network , ports="80,443,23,3389,21")  # Perform a ping scan to find hosts

if __name__ == '__main__':
    app.run(host='0.0.0.0' , port=5001)

